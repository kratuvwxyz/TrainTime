var CTR=CTR||{};
CTR.SolariSegment=function(b){var l=0.25+0.01*Math.random(),a=0,f=0,h=0,d=b.values,e=Date.now(),g,k,i,j,m;g=document.createElement("li");g.className="segment";g.style.width=b.width+"px";g.style.height=b.height+"px";k=document.createElement("div");k.className="front";k.style.lineHeight=b.height+"px";i=document.createElement("div");i.className="flip-front";i.style.webkitTransformOrigin=i.style.MozTransformOrigin="0 "+0.5*b.height+"px";j=document.createElement("div");j.className="flip-back";j.style.lineHeight=
b.height+"px";j.style.webkitTransformOrigin=j.style.MozTransformOrigin="0 "+0.5*b.height+"px";m=document.createElement("div");m.className="back";g.appendChild(k);g.appendChild(i);g.appendChild(j);g.appendChild(m);return{getElement:function(){return g},setContent:function(a){for(var b=0;b<d.length;b++)if(d[b]==a){h=b;return}h=0},update:function(){if(f!=h){var c=Date.now();a+=l*(c-e);e=c;180<=a&&(m.textContent=d[f],j.textContent=d[f],f++,f%=d.length,k.textContent=d[f],i.textContent=d[f],a%=180)}else c=
Date.now(),a+=l*(c-e),e=c,180<=a&&(a=180),k.textContent=d[f],i.textContent=d[f];c=Math.abs(32+16*Math.sin(a*Math.PI/180))|0;i.style.webkitTransform=i.style.MozTransform="rotateX("+(180-a)+"deg) translateY("+0.5*b.height+"px) translateZ(.1px)";i.style.backgroundColor="rgb("+c+","+c+","+c+")";c=170-170*a/180|0;j.style.webkitTransform=j.style.MozTransform="rotateX(-"+a+"deg)";j.style.color="rgb("+c+","+c+","+c+")";c=170*a/180|0;i.style.color="rgb("+c+","+c+","+c+")";c=Math.abs(32-16*Math.sin(a*Math.PI/
180))|0;j.style.backgroundColor="rgb("+c+","+c+","+c+")"}}};CTR.SOLARIVALUES={letter:" ,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z".split(","),number:"0,1,2,3,4,5,6,7,8,9".split(","),hour:"00,01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24".split(","),minute:"00,01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59".split(",")};
CTR.SolariBoard=function(b){function l(){window.requestAnimationFrame(l);for(var a=0;a<h.length;a++)h[a].update()}var a=document.createElement("div"),f=document.createElement("ul"),h=[];(function(){a.className="display";f.className="segments";a.style.fontSize=b.fontSize+"px";for(var d=0,e=0;e<b.format.length;e++){var g=b.format[e],g=new CTR.SolariSegment({width:b.segmentWidth*g[0].length,height:b.segmentHeight,values:g});h.push(g);f.appendChild(g.getElement());d+=b.format[e][0].length*b.segmentWidth}for(e=
0;e<h.length;e++)e<h.length-1&&(h[e].getElement().style.marginRight="4px",d+=4);f.style.width=d+60+"px";f.style.height=b.segmentHeight+60+"px";a.style.width=d+"px";a.style.height=b.segmentHeight+"px";a.style.marginLeft=-0.5*(d+60)+"px";a.style.marginTop=-0.5*b.segmentHeight+"px";a.style.webkitPerspectiveOrigin=a.style.MozPerspectiveOrigin=0.5*d+"px "+b.segmentHeight+"px";a.style.webkitTransformOrigin=a.style.MozTransformOrigin=0.5*d+"px "+b.segmentHeight+"px";a.appendChild(f);b.container.appendChild(a);
l()})();return{getDisplay:function(){return f},setContent:function(a){for(var e=0;e<b.format.length;e++)h[e].setContent(a[e])}}};
